{
    "type": "graph",
    "id": "zpoolio",
    "description": "zpool IO.",
    "version": "0.1.0",
    "notes": [
        "Graphs with variable metrics use regular expressions for the datapoint",
        "metric_name. The regular expression should include a grouping ().",
        "What is matched by the first matched group will be available for use",
        "in interpolated fields as '{{=cosi.graph_item}}'.",
        "",
        "Filters (include/exclude) work by matching the value used as graph_item",
        "this is an equality test not a regular expression. The strings in filter",
        "lists are evaluated using '==='."
    ],
    "variable_metrics": true,
    "filter": {
      "exclude": null,
      "include": null
    },
    "config": [
        {
            "access_keys": [],
            "composites": [],
            "datapoints": [
                {
                    "legend_formula": null,
                    "caql": null,
                    "check_id": null,
                    "metric_type": "numeric",
                    "stack": null,
                    "name": "Used",
                    "axis": "l",
                    "data_formula": null,
                    "color": "#657aa6",
                    "metric_name": "zpoolio`([^`]+)`used_space",
                    "alpha": "0.3",
                    "derive": "gauge",
                    "hidden": false
                },
                {
                    "legend_formula": null,
                    "caql": null,
                    "check_id": null,
                    "metric_type": "numeric",
                    "stack": null,
                    "name": "Free",
                    "axis": "l",
                    "data_formula": null,
                    "color": "#4fa18e",
                    "metric_name": "zpoolio`([^`]+)`free_space",
                    "alpha": "0.3",
                    "derive": "gauge",
                    "hidden": false
                }
            ],
            "description": "Used/free space",
            "guides": [],
            "line_style": "stepped",
            "logarithmic_left_y": null,
            "logarithmic_right_y": null,
            "max_left_y": null,
            "max_right_y": null,
            "metric_clusters": [],
            "min_left_y": null,
            "min_right_y": null,
            "notes": null,
            "style": "area",
            "tags": [],
            "title": "{{=cosi.host_name}} zpool {{=cosi.graph_item}} space"
        },
        {
            "access_keys": [],
            "composites": [],
            "datapoints": [
                {
                    "legend_formula": null,
                    "caql": null,
                    "check_id": null,
                    "metric_type": "numeric",
                    "stack": null,
                    "name": "Bytes read",
                    "axis": "l",
                    "data_formula": null,
                    "color": "#4fa18e",
                    "metric_name": "zpoolio`([^`]+)`read_bytes",
                    "alpha": "0.3",
                    "derive": "counter",
                    "hidden": false
                },
                {
                    "legend_formula": null,
                    "caql": null,
                    "check_id": null,
                    "metric_type": "numeric",
                    "stack": null,
                    "name": "Bytes written",
                    "axis": "l",
                    "data_formula": "=-1 * VAL",
                    "color": "#657aa6",
                    "metric_name": "zpoolio`([^`]+)`write_bytes",
                    "alpha": "0.3",
                    "derive": "counter",
                    "hidden": false
                }
            ],
            "description": "Read/write bytes",
            "guides": [],
            "line_style": "stepped",
            "logarithmic_left_y": null,
            "logarithmic_right_y": null,
            "max_left_y": null,
            "max_right_y": null,
            "metric_clusters": [],
            "min_left_y": null,
            "min_right_y": null,
            "notes": null,
            "style": "area",
            "tags": [],
            "title": "{{=cosi.host_name}} zpool {{=cosi.graph_item}} IO bytes"
        },
        {
            "access_keys": [],
            "composites": [],
            "datapoints": [
                {
                    "legend_formula": null,
                    "caql": null,
                    "check_id": null,
                    "metric_type": "numeric",
                    "stack": null,
                    "name": "Read ops",
                    "axis": "l",
                    "data_formula": null,
                    "color": "#4fa18e",
                    "metric_name": "zpoolio`([^`]+)`read_ops",
                    "alpha": "0.3",
                    "derive": "counter",
                    "hidden": false
                },
                {
                    "legend_formula": null,
                    "caql": null,
                    "check_id": null,
                    "metric_type": "numeric",
                    "stack": null,
                    "name": "Write ops",
                    "axis": "l",
                    "data_formula": "=-1 * VAL",
                    "color": "#657aa6",
                    "metric_name": "zpoolio`([^`]+)`write_ops",
                    "alpha": "0.3",
                    "derive": "counter",
                    "hidden": false
                }
            ],
            "description": "Read/write ops",
            "guides": [],
            "line_style": "stepped",
            "logarithmic_left_y": null,
            "logarithmic_right_y": null,
            "max_left_y": null,
            "max_right_y": null,
            "metric_clusters": [],
            "min_left_y": null,
            "min_right_y": null,
            "notes": null,
            "style": "area",
            "tags": [],
            "title": "{{=cosi.host_name}} zpool {{=cosi.graph_item}} IO ops"
        }
    ]
}
